(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{214:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n.n(a),u=n(20),i=n.n(u),o=(n(95),n(37)),l=(n(96),n(6)),s=n(80),f=n.n(s),d=n(81),v=n.n(d),p=n(76),m=n.n(p),g=n(82),b=n.n(g),y=n(79),E=n.n(y),O=n(78),j=n.n(O),h=n(11),A=n(2),x="grass",I="tree",T="farm",C="crop",w="planted",N="warehouse",_="path",k="DEFAULT_EVENT",R="RESOURCE_PICKUP",S="SLEEPING",P=["human","ai"],M=function(){console.log("generate state");var e=B(),t=JSON.parse(window.localStorage.getItem("behaviors")||"{}");console.log(JSON.parse(window.localStorage.getItem("behaviors")||"{}"));var n=t.farmer.DEFAULT_EVENT.conditionalActions[0].payload.creator;console.log(n),console.log(xt[n](function(){return"asd"}));var r={};return console.log(r),{turn:0,activePlayerId:P[0],items:e,selectedId:e[0].id,winner:void 0,events:[{type:"ENEMY_SPOTTED",itemId:e[1].id},{type:"GAME_STARTED"}],behaviors:r,training:!1}},U=0,L=function(){return++U},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=[{id:L(),hp:5,type:"x",playerId:"human",ap:10,behaviorName:"farmer",conditionalActions:[],events:[],activeEvent:{type:k},resources:[]},{id:L(),hp:5,type:"o",playerId:"ai",ap:10,behaviorName:"brigand",conditionalActions:[],events:[],activeEvent:{type:k},resources:[]},{id:L(),hp:5,type:"x",playerId:"human",ap:10,behaviorName:"farmer",conditionalActions:[],events:[],activeEvent:{type:k},resources:[]},{id:L(),hp:5,type:"x",playerId:"human",ap:10,behaviorName:"hauler",conditionalActions:[],events:[],activeEvent:{type:k},resources:[]}],n=[{id:L(),type:I},{id:L(),type:I},{id:L(),type:I},{id:L(),type:I},{id:L(),type:I},{id:L(),type:I},{id:L(),type:"rock"},{id:L(),type:"rock"},{id:L(),type:"rock"},{id:L(),type:"water"},{id:L(),type:"water"},{id:L(),type:"water"}],r=D(e);return r(t).concat(r(n.concat(function(e){for(var t=[],n=0;n<e;n++)t.push({id:L(),type:x});return t}(e*e-n.length))))},D=function(e){return function(t){var n=H(e);return t.map(function(e){return Object(A.a)({},e,n.shift())})}},H=function(e){var t=Array.from(Array(e).keys()),n=t.map(function(e){return t.map(function(t){return{x:e,y:t}})}).flat();return V(n),n},V=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}},F=function(e,t){return t.find(function(t){return t.id===e})},W=function(e,t){return t.filter(function(e){return function(t){return function(e,t){return t.playerId===e}(e,t)}}(e))},G=function(e){return function(t){return function(n){return J(function(e){return function(t){var n=t.x,r=t.y;return e.filter(function(e){return e.x===n&&e.y===r})}}(e)(t))(n)}}},J=function(e){return function(t){return e.find(function(e){return e.type===t})}},K=function(e){return P.filter(function(t){return e.activePlayerId!==t}).flatMap(function(t){return W(t,e.items)})},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)<=n},Y=function(e){return function(t){var n=t.items.map(Q(e));return Object(A.a)({},t,{items:n})}},$=function(e,t){var n=t.items.map(Q(e));return Object(A.a)({},t,{items:n})},q=function(e){return function(t){return function(n){return e(n)?Object(A.a)({},n,t):n}}},Q=function(e){return q(function(t){return e.id===t.id})(e)},X=function(e,t){var n=t.x,r=t.y,a=t.gCost;return Object(A.a)({},e,{ap:e.ap-a,x:n,y:r})},Z=function(e){return function(t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}},ee=function(e){return function(t){return function(n){return n.items.filter(function(t){return t.type===e}).sort((r=t(n),function(e,t){var n=Z(r);return n(e)-n(t)}))[0];var r}}},te=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},ne=function(e){return function(t){return!t.local||e===t.agentId}},re=n(75),ae=n.n(re),ce=function(e){var t=e.x,n=e.y;return"x".concat(t,"y").concat(n)},ue=function(e){return function(t){var n=t.x,r=t.y;return[e.get(ce({x:n-1,y:r})),e.get(ce({x:n+1,y:r})),e.get(ce({x:n,y:r-1})),e.get(ce({x:n,y:r+1}))].filter(Boolean)}},ie=function(e,t){return t.gCost},oe=function(e,t){var n=Z(e)(t)-1;return e.gCost+5*n},le=function(e){var t=new Map;return e.forEach(function(e){var n=t.get(ce(e));if(!n||e.gCost<n.gCost){var r=function(e){return[ce(e),e]}(e),a=Object(o.a)(r,2),c=a[0],u=a[1];t.set(c,u)}}),t},se=(r={},Object(l.a)(r,x,10),Object(l.a)(r,I,20),Object(l.a)(r,_,5),Object(l.a)(r,"rock",50),Object(l.a)(r,"water",100),Object(l.a)(r,w,10),Object(l.a)(r,C,10),Object(l.a)(r,T,10),Object(l.a)(r,N,10),Object(l.a)(r,"default",500),r),fe=function(e){return se[e]||se.default},de=function(e){var t=e.x,n=e.y,r=e.type;return{x:t,y:n,gCost:fe(r)}},ve=function(e){return e.map(de)},pe=function(e){return function(t){return{id:ce,isGoal:(n=t,function(e){return ce(n)===ce(e)}),getSuccessors:ue(e),distance:ie,estimate:oe};var n}};var me,ge="brigands/reducer/ATTACK",be="brigands/reducer/AUTO_ACTION",ye="brigands/reducer/BUILD_FARM",Ee="brigands/reducer/BUILD_WAREHOUSE",Oe="brigands/reducer/END_TURN",je="brigands/reducer/FINISH_TRAIN_EVENT",he="brigands/reducer/HARVEST_CROP",Ae="brigands/reducer/MOVE",xe="brigands/reducer/MAKE_PATH",Ie="brigands/reducer/PLANT_CROP",Te="brigands/reducer/RESTART",Ce="brigands/reducer/SET_ACTIVE_EVENT",we="brigands/reducer/SET_SELECTED",Ne="brigands/reducer/SET_UNIT_BEHAVIOR",_e="brigands/reducer/TRAIN_EVENT",ke="brigands/reducer/UNLOAD_RESOURCE",Re="brigands/reducer/LOAD_RESOURCE",Se="brigands/reducer/SLEEP",Pe=function(e){return function(t){return F(e,t.items)}},Me=function(e){return F(e.selectedId,e.items)},Ue=function(e){return function(t){return function(n){return((n.behaviors[e]||{})[t]||{}).conditionalActions||[]}}},Le=function(e){return e.activePlayerId},Be=function(e){var t=P.findIndex(function(t){return t===e});return P[(t+1)%P.length]},De=function(e){return function(t){return Bt(t,e)}},He=function(e){return function(t){var n=e.payload,r=n.getAgent,a=n.apCost,c=void 0===a?function(){return function(){return 10}}:a,u=r(t);return Y(Object(A.a)({},u,{ap:u.ap-c(e)(t)}))(t)}},Ve=function(e){return function(t){return te(He(e),function(e){return function(t){var n=(0,e.payload.getAgent)(t);return n.training?Y(Object(A.a)({},n,{behaviorTraining:Object(A.a)({},n.behaviorTraining,{conditionalActions:[].concat(Object(h.a)(n.behaviorTraining.conditionalActions),[e])})}))(t):t}}(e))(t)}},Fe=function(e,t,n){var r=e(n),a=G(n.items)(r)(x);return We(e)(t)(a.id)(n)},We=function(e){return function(t){return function(n){return function(r){var a,c=e(r),u=(a=n,r.items.filter(function(e){return e.id!==a})),i={id:L(),builderId:c.id,x:c.x,y:c.y,type:t,createdTurn:r.turn,resources:[]};return Object(A.a)({},r,{items:[].concat(Object(h.a)(u),[i])})}}}},Ge=function(e){return function(t){return t.type===w&&t.createdTurn+5<=e}},Je=function(e){return function(t){var n=e(t).conditionalActions,r=n.findIndex(function(n){return n.payload.condition(e)(t)});return r>=0?n.slice(r):[]}},Ke=function(e){return function(t){return function(n){return n.find(function(n){return n.payload.condition(e)(t)})}}},ze=function(){return{type:Oe}},Ye=function(e){return function(t){return function(n){return Z(t(n))(e(t)(n))<=1}}},$e=function(e){return function(t){var n=t.targetId,r=function(){return Pe(n)};return{type:ge,payload:{creator:"attack",creatorArguments:{targetId:n},getAgent:e,getTarget:r,condition:Ye(r)}}}},qe=function(e){return{type:Ne,payload:{getAgent:e}}},Qe=function(e){return{type:be,payload:{getAgent:e}}},Xe=function(e){return{type:Ee,payload:{creator:"plantCrop",getAgent:e,condition:(t=N,function(e){return function(n){return!n.items.some(function(e){return e.type===t})&&G(n.items)(e(n))(x)}})}};var t},Ze=function(e){return function(t){return t.items.some(function(n){return n.type===T&&n.builderId===e(t).id})}},et=function(e){return function(t){return!Ze(e)(t)&&G(t.items)(e(t))(x)}},tt=function(e){return{type:ye,payload:{creator:"plantCrop",getAgent:e,condition:et}}},nt=function(e){return function(t){return Ze(e)(t)&&G(t.items)(e(t))(x)}},rt=function(e){return{type:Ie,payload:{creator:"plantCrop",getAgent:e,condition:nt}}},at=function(e){return function(t){return G(t.items)(e(t))(C)}},ct=function(e){return{type:he,payload:{creator:"harvestCrop",getAgent:e,condition:at}}},ut=function(e){return function(t){return ft(e)(ee(t))("moveTowardEvent")}},it=function(e){return function(t){var n=e(t).activeEvent;return Pe(n.itemId)(t)}},ot=function(e){return ft(e)(it)("moveTowardEvent")},lt=function(e){return function(t){return t.items.filter(function(n){return n.type===T&&n.builderId===e(t).id})[0]}},st=function(e){return ft(e)(lt)("moveTowardHome")},ft=function(e){return function(t){return function(n){var r=function(e){return function(t){return function(n){var r=t(n),a=e(t)(n);return r&&a&&!(r.x===a.x&&r.y===a.y)}}}(t);return{type:Ae,payload:{creator:n,getAgent:e,getTarget:t,apCost:function(e){return function(e){return 0}},condition:r}}}}},dt=function(e){return function(t){return G(t.items)(e(t))(x)}},vt=function(e){return{type:xe,payload:{getAgent:e,getTarget:dt,condition:(t=dt,function(e){return function(n){return!!t(e)(n)}})}};var t},pt=function(e){return function(t){var n=e(t),r=G(t.items)(n);return n.resources.length>0&&(r(T)||r(N))}},mt=function(e){return{type:ke,payload:{getAgent:e,condition:pt}}},gt=function(e){return function(t){var n=e(t),r=G(t.items)(n),a=r(T)||r(N)||{};return!!a.resources&&a.resources.length>0}},bt=function(e){return{type:Re,payload:{getAgent:e,condition:gt}}},yt=function(e){return function(t){return{type:Ce,payload:{getAgent:e,event:t}}}},Et=function(e){return function(t){return{type:_e,payload:{getAgent:e,event:t}}}},Ot=function(e){return{type:je,payload:{getAgent:e}}},jt=function(){return{type:Te,payload:void 0}},ht=function(e){return{type:we,payload:e}},At=function(e){return function(t){return{type:Se,payload:{getAgent:e,condition:function(e){return function(e){return e.turn<=t}}}}}},xt={attack:$e,buildWarehouse:Xe,buildFarm:tt,plantCrop:rt,harvestCrop:ct,moveTowardType:ut,moveTowardHome:st,moveTowardEvent:ot,loadResource:bt,unloadResource:mt},It=function(e){return function(t){return function(n){return{id:L(),type:e,itemId:t,turn:n,local:!1}}}},Tt=function(e){return function(t){return Object(A.a)({},t,{events:[].concat(Object(h.a)(t.events),Object(h.a)(e))})}},Ct=function(e){return function(t){return e.builderId===t.id&&e.type!==N}},wt=function(e){return function(t){var n=W(Le(t),t.items).map(function(t){return Y(e(t))});return te.apply(void 0,Object(h.a)(n))(t)}},Nt=function(e){return wt(function(e){return Object(A.a)({},e,{ap:e.ap>0?10:e.ap+10})})(e)},_t=function(e){var t=e.items.filter(Ge(e.turn)).map(function(t){return(n="CROP_GROWN",function(e){return function(t){return function(r){return Object(A.a)({},It(n)(e)(t),{agentId:r,local:!0})}}})(t.id)(e.turn)(t.builderId);var n});return Object(A.a)({},e,{events:[].concat(Object(h.a)(e.events),Object(h.a)(t))})},kt=function(e){return(t=Ge(e.turn),function(e){return function(n){var r=n.items.map(q(t)(e));return Object(A.a)({},n,{items:r})}})({type:C})(e);var t},Rt=function(e){return Object(A.a)({},e,{events:e.events.filter(function(t){return t.turn===e.turn})})},St=function(e){return wt(function(t){return Object(A.a)({},t,{events:[].concat(Object(h.a)(t.events),Object(h.a)(e.events.filter(function(n){return ne(t.id)(n)&&(function(e){return function(t){return function(n){return!!Ue(e.behaviorName)(t.type)(n).length}}}(t)(n)(e)||t.training)})))})})(e)},Pt=function(e){return Object(A.a)({},e,{turn:(t=e.turn,n=Le(e),P.slice(-1)[0]===n?t+1:t)});var t,n},Mt=function(e){return Object(A.a)({},e,{activePlayerId:Be(Le(e))})},Ut=function(e){return function(t){var n=Je(e)(t);return Y(Object(A.a)({},e(t),{conditionalActions:n}))(t)}},Lt=function(e){return function(t){var n=e(t).conditionalActions;return n.length>0?De(n[0])(t):t}};function Bt(e,t){console.log("Action"),console.log(t);var n=t.payload;switch(t.type){case Oe:return te(Nt,_t,kt,Rt,St,Pt,Mt)(e);case be:var r=n.getAgent;return r(e).ap<=0?e:Je(r)(e).length>0?te(Ut(r),Lt(r),De(t))(e):te(De(qe(r)),De(t))(e);case Te:var a=e.behaviors;return Object(A.a)({},M(),{behaviors:a});case we:return Object(A.a)({},e,{selectedId:n});case ge:var c=n.getAgent,u=n.getTarget,i=c(e),o=u(c)(e);if(!z(i,o))return console.log("target not in range!"),e;var s=Object(A.a)({},o,{hp:o.hp-1});return te(Y(s),Ve(t))(e);case Ae:var f=n.getAgent,d=n.getTarget,v=ve(e.items),p=function(e,t,n){var r=le(n),a=r.get(ce(e)),c=r.get(ce(t));return ae()(a,c,pe(r)(c))}(de(f(e)),de(d(f)(e)),v);return te(function(e){return Y(X(f(e),p[1]))(e)},De(vt(f)),Ve(t))(e);case xe:var m=n.getAgent,g=n.getTarget;if((0,n.condition)(m)(e)){var b=g(m)(e),y=b.visited?[].concat(Object(h.a)(b.visited),[e.turn]):[e.turn],E=y.length>3?_:b.type;return Y(Object(A.a)({},b,{visited:y,type:E}))(e)}return e;case ye:return Fe(n.getAgent,T,Ve(t)(e));case Ee:return Fe(n.getAgent,N,Ve(t)(e));case Ie:return Fe(n.getAgent,w,Ve(t)(e));case he:var O=n.getAgent(e),j=G(e.items)(O)(C),I=$(Object(A.a)({},O,{resources:[].concat(Object(h.a)(O.resources),[C])}),e);return We(n.getAgent)(x)(j.id)(Ve(t)(I));case Re:var P=n.getAgent(e),U=G(e.items)(P),L=U(T)||U(N),B=L.resources[0],D=Object(A.a)({},P,{resources:[].concat(Object(h.a)(P.resources),[B])}),H=Object(A.a)({},L,{resources:L.resources.slice(1)});return te(Y(D),Y(H),Ve(t))(e);case ke:var V=n.getAgent(e),F=G(e.items)(V),W=F(T)||F(N),J=V.resources[0],K=Object(A.a)({},W,{resources:[].concat(Object(h.a)(W.resources),[J])}),q=Object(A.a)({},V,{resources:V.resources.slice(1)});if(Ct(W)(V)){var Q=Object(A.a)({},It(R)(W.id)(e.turn),{resource:J});return te(Y(q),Y(K),Tt([Q]),Ve(t))(e)}return te(Y(q),Y(K),Ve(t))(e);case _e:var Z=n.getAgent,ee=n.event,ne=Z(e);return $(Object(A.a)({},ne,{behaviorTraining:{name:ne.behaviorName,eventType:ee.type,event:ee,conditionalActions:[]},training:!0}),e);case je:var re=(0,n.getAgent)(e),ue=re.behaviorTraining,ie=ue.name,oe=ue.eventType,se=ue.conditionalActions,fe=e.behaviors[ie]||{},me=Object(A.a)({},fe,Object(l.a)({name:ie},oe,{eventType:oe,conditionalActions:se})),Pe=Object(A.a)({},e.behaviors,Object(l.a)({},ie,me)),Me=Object(A.a)({},e,{behaviors:Pe});return console.log("set behaviors"),console.log(Pe),window.localStorage.setItem("behaviors",JSON.stringify(Pe)),$(Object(A.a)({},re,{behaviorTraining:{},conditionalActions:se,training:!1}),Me);case Ce:var Le=n.event,Be=(0,n.getAgent)(e);return $(Object(A.a)({},Be,{activeEvent:Le}),e);case Ne:var Ge=n.getAgent,ze=Ge(e),Ye=ze.events.length>0?ze.events[0]:{type:k},$e=Ue(ze.behaviorName)(Ye.type)(e).map(function(e){var t=xt[e.creator](Ge)(e.creatorArguments);return console.log("action"),console.log(t),Object(A.a)({},e,{payload:Object(A.a)({},e.payload,{getAgent:Ge})})});return console.log($e),Ye.type!==k||Ke(Ge)(e)($e)?(console.log("Updated actions for event: "+Ye.type),$(Object(A.a)({},ze,{activeEvent:Ye,events:ze.events.slice(1),conditionalActions:Object(h.a)($e)}),e)):Bt(e,At(Ge)(e.turn));case Se:var Qe=(0,n.getAgent)(e);return te(Y(Object(A.a)({},Qe,{activeEvent:{type:S},conditionalActions:[t]})),He(t))(e);default:return e}}var Dt=(me={},Object(l.a)(me,"o","android"),Object(l.a)(me,"x","directions_walk"),Object(l.a)(me,"mounted","direction_bike"),Object(l.a)(me,x,"crop_free"),Object(l.a)(me,I,"nature"),Object(l.a)(me,"water","waves"),Object(l.a)(me,"rock","landscape"),Object(l.a)(me,"dead","airline_seat_flat"),Object(l.a)(me,T,"home"),Object(l.a)(me,C,"local_florist"),Object(l.a)(me,w,"minimize"),Object(l.a)(me,N,"layers"),Object(l.a)(me,_,"grain"),me),Ht=function(e){return e.hp<1?Dt.dead:Dt[e.type]||Dt[x]},Vt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1?arguments[1]:void 0,n=[],r=0;r<e;r++){n[r]=[];for(var a=0;a<e;a++)n[r][a]=Ft(t,a,r)}return n},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return e.find(function(e){return e.x===t&&e.y===n})||{x:t,y:n,type:"."}};function Wt(e){var t,n=e.elem,r=Object(a.useContext)(Hn).dispatch;return c.a.createElement(m.a,null,c.a.createElement(j.a,{onClick:(t=n.id,function(){r(ht(t))})},c.a.createElement(E.a,null,Ht(n))))}function Gt(){var e=Object(a.useContext)(Hn).state.items,t=Vt(10,e);return c.a.createElement("div",{className:"PlayingField"},c.a.createElement(f.a,{padding:"none"},c.a.createElement(v.a,null,t.map(function(e){return c.a.createElement(b.a,{key:e[0].y},e.map(function(e){return c.a.createElement(Wt,{key:"x"+e.x+"y"+e.y,elem:e})}))}))))}var Jt=n(27),Kt=n.n(Jt),zt=n(28),Yt=n.n(zt),$t=n(19),qt=n.n($t),Qt=function(e){return function(t){return W(e,t).filter(function(e){return e.ap>0})}};function Xt(e){var t=e.action,n=e.children,r=Object(a.useContext)(Hn),u=r.state,i=r.dispatch;if(!en(t)(u))return null;return c.a.createElement(qt.a,{onClick:function(){return i(t)}},n)}function Zt(){var e,t=Object(a.useContext)(Hn),n=t.state,r=t.dispatch,u=n.items,i=n.activePlayerId;return c.a.createElement(qt.a,{onClick:(e=i,function(){Qt(e)(u).forEach(function(e){r(Qe(Pe(e.id)))}),r(ze())})},"Turn(",i,"): ",n.turn)}var en=function(e){return function(t){var n=e.payload,r=n.getAgent,a=n.condition;return!!r&&function(e){return function(t){var n=e(t);return n.ap>0&&n.playerId===t.activePlayerId}}(r)(t)&&a(r)(t)}};function tn(e){var t=e.targetId,n=Object(a.useContext)(Hn).state,r=Pe(n.selectedId),u=$e(r)({targetId:t});return c.a.createElement(Xt,{action:u},"Attack Enemy")}function nn(){var e=Object(a.useContext)(Hn).state,t=Pe(e.selectedId),n=ut(t)(x);return c.a.createElement(Xt,{action:n},"Move To ","Grass")}function rn(){var e=Object(a.useContext)(Hn).state,t=Pe(e.selectedId),n=ut(t)(N);return c.a.createElement(Xt,{action:n},"Move To ","Warehouse")}function an(){var e=Object(a.useContext)(Hn).state,t=Pe(e.selectedId),n=ot(t);return c.a.createElement(Xt,{action:n},"Move To ","Event")}function cn(){var e=Object(a.useContext)(Hn).state,t=Pe(e.selectedId),n=st(t);return c.a.createElement(Xt,{action:n},"Move To ","Home")}function un(){var e=Object(a.useContext)(Hn).state,t=Me(e),n=Pe(t.id),r=Xe(n);return c.a.createElement(Xt,{action:r},"Build warehouse")}function on(){var e=Object(a.useContext)(Hn).state,t=Me(e),n=Pe(t.id),r=tt(n);return c.a.createElement(Xt,{action:r},"Build farm")}function ln(){var e=Object(a.useContext)(Hn).state,t=Me(e),n=Pe(t.id),r=rt(n);return c.a.createElement(Xt,{action:r},"PlantCrop")}function sn(){var e=Object(a.useContext)(Hn).state,t=Me(e),n=Pe(t.id),r=ct(n);return c.a.createElement(Xt,{action:r},"HarvestCrop")}function fn(){var e=Object(a.useContext)(Hn).state,t=Pe(e.selectedId),n=mt(t);return c.a.createElement(Xt,{action:n},"Unload Resource")}function dn(){var e=Object(a.useContext)(Hn).state,t=Pe(e.selectedId),n=bt(t);return c.a.createElement(Xt,{action:n},"Load Resource")}function vn(){var e=Object(a.useContext)(Hn).state;return c.a.createElement("div",null,c.a.createElement(Kt.a,null,c.a.createElement(Yt.a,null,c.a.createElement(Zt,null),K(e).map(function(e){return c.a.createElement(tn,{key:e.id,targetId:e.id})}),c.a.createElement(nn,null),c.a.createElement(an,null),c.a.createElement(cn,null),c.a.createElement(rn,null),c.a.createElement(un,null),c.a.createElement(on,null),c.a.createElement(ln,null),c.a.createElement(sn,null),c.a.createElement(fn,null),c.a.createElement(dn,null))))}var pn=n(12),mn=n.n(pn),gn=n(83),bn=n.n(gn);function yn(){var e=Object(a.useContext)(Hn).state,t=Me(e);if(void 0===t)return null;var n=t.id,r=t.playerId,u=t.x,i=t.y,o=t.hp,l=t.ap,s=t.type,f=t.behaviorName,d=t.resources,v=o/5*100,p={type:k,itemId:t.id};return c.a.createElement(Kt.a,null,c.a.createElement(Yt.a,null,c.a.createElement(mn.a,null,"id:",n),c.a.createElement(mn.a,null,"player:",r),c.a.createElement(mn.a,null,"x:",u),c.a.createElement(mn.a,null,"y:",i),c.a.createElement(mn.a,null,"hp:",o),c.a.createElement(mn.a,null,"ap:",l),c.a.createElement(mn.a,null,"type:",s),c.a.createElement(mn.a,null,"behavior:",f),c.a.createElement(mn.a,null,"resource: ",d," "),c.a.createElement(bn.a,{variant:"determinate",value:v}),c.a.createElement(On,{event:p}),c.a.createElement(jn,null)))}function En(e){var t=e.event,n=Object(a.useContext)(Hn),r=n.state,u=n.dispatch,i=Me,o=i(r);if(void 0===o||o.activeEvent===t)return null;return c.a.createElement(qt.a,{color:"default",onClick:function(){return u(yt(i)(t))}},"Select event ",t.type)}function On(e){var t=e.event,n=Object(a.useContext)(Hn),r=n.state,u=n.dispatch,i=Pe(r.selectedId),o=i(r);if(!o||o.training)return null;return c.a.createElement(qt.a,{color:"default",onClick:function(){u(yt(i)(t)),u(Et(i)(t))}},"Train ",t.type," Behavior")}function jn(){var e=Object(a.useContext)(Hn),t=e.state,n=e.dispatch,r=Pe(t.selectedId),u=r(t);if(!u||!u.training)return null;return c.a.createElement(qt.a,{color:"default",onClick:function(){return n(Ot(r))}},"Finish train event Behavior")}function hn(e){var t=e.event,n=Object(a.useContext)(Hn).state,r=t.itemId&&Pe(t.itemId)(n)||{},u=r.x,i=r.y,o=r.type;return c.a.createElement(Kt.a,null,c.a.createElement(Yt.a,null,c.a.createElement(mn.a,null,"type:",t.type),c.a.createElement(mn.a,null,"x:",u),c.a.createElement(mn.a,null,"y:",i),c.a.createElement(mn.a,null,"itemType:",o),c.a.createElement(En,{event:t}),c.a.createElement(On,{event:t})))}function An(){var e=Object(a.useContext)(Hn).state,t=e.events,n=Me(e),r=t.filter(ne(n.id));return(n.activeEvent?[n.activeEvent].concat(Object(h.a)(r)):r).map(function(e,t){return c.a.createElement(hn,{key:"event"+t,event:e})})}function xn(){return c.a.createElement("div",null,c.a.createElement(yn,null),c.a.createElement(An,null))}var In=n(89),Tn=n.n(In),Cn=n(29),wn=n.n(Cn),Nn=n(84),_n=n.n(Nn),kn=n(88),Rn=n.n(kn),Sn=n(86),Pn=n.n(Sn),Mn=n(87),Un=n.n(Mn),Ln=n(85),Bn=n.n(Ln);function Dn(){var e=Object(a.useContext)(Hn),t=e.state,n=e.dispatch;return c.a.createElement("div",null,c.a.createElement(_n.a,{open:!!t.winner,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},c.a.createElement(Bn.a,{id:"alert-dialog-title"},"The winner is ".concat(t.winner,"!")),c.a.createElement(Pn.a,null,c.a.createElement(Un.a,{id:"alert-dialog-description"},"Play another round?")),c.a.createElement(Rn.a,null,c.a.createElement(qt.a,{onClick:function(){return n(jt())},color:"primary"},"Yes"))))}var Hn=c.a.createContext(null),Vn=M();Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(function(){var e=Object(a.useReducer)(Bt,Vn),t=Object(o.a)(e,2),n=t[0],r=t[1];return c.a.createElement("div",{className:"App"},c.a.createElement(Tn.a,null),c.a.createElement(wn.a,{container:!0,justify:"center",direction:"row",spacing:24},c.a.createElement(Hn.Provider,{value:{state:n,dispatch:r}},c.a.createElement(Dn,null),c.a.createElement(wn.a,{item:!0,xs:!0},c.a.createElement(xn,null)),c.a.createElement(wn.a,{item:!0,xs:!0},c.a.createElement(Gt,{size:"10"})),c.a.createElement(wn.a,{item:!0,xs:4},c.a.createElement(vn,null)))))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},90:function(e,t,n){e.exports=n(214)},95:function(e,t,n){},96:function(e,t,n){}},[[90,1,2]]]);
//# sourceMappingURL=main.67ace594.chunk.js.map